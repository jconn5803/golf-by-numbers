{% extends "base.html" %}

{% block title %}Add Holes{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/add_holes.css') }}">
{% endblock %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-center mb-4">
    Add Holes for Tee: {{ tee_name }}
  </h2>

  <form action="{{ url_for('add_holes') }}" method="POST" class="custom-form p-4">
    
    <!-- Radio Buttons for selecting 9 or 18 holes -->
    <div class="mb-4">
      <label class="form-label custom-form-label fw-semibold">Number of Holes</label>
      <div class="btn-group custom-radio-group" role="group">
        <input 
          type="radio"
          class="btn-check"
          name="num_holes"
          id="num_holes_9"
          value="9"
        >
        <label class="btn btn-outline-accent" for="num_holes_9">9</label>
        
        <input 
          type="radio"
          class="btn-check"
          name="num_holes"
          id="num_holes_18"
          value="18"
          checked
        >
        <label class="btn btn-outline-accent" for="num_holes_18">18</label>
      </div>
    </div>

    <!-- Table for entering hole details -->
    <div class="custom-table-wrapper">
      <table class="custom-table">
        <thead>
          <tr>
            <th>Hole Number</th>
            <th>Distance (yards)</th>
            <th>Par</th>
          </tr>
        </thead>
        <tbody id="holes_table">
          <!-- Your add_holes.js will dynamically inject rows here,
               each with an <input name="distances"> and an input named par_1, par_2, etc. -->
        </tbody>
      </table>
    </div>

    <!-- Submit button -->
    <div class="text-center mt-4">
      <button type="submit" class="btn btn-cta">
        Save Holes
      </button>
    </div>

  </form>

    <!-- Confirmation Modal -->
    <div class="modal fade" id="holesConfirmationModal" tabindex="-1"
    aria-labelledby="holesConfirmationModalLabel" aria-hidden="true">
 <div class="modal-dialog modal-dialog-centered">
   <div class="modal-content">
     <!-- header -->
     <div class="modal-header">
       <h5 class="modal-title" id="holesConfirmationModalLabel">
         Confirm Holes Setup
       </h5>
       <button type="button" class="btn-close"
               data-bs-dismiss="modal" aria-label="Close"></button>
     </div>
     <!-- body -->
     <div class="modal-body">
       <p><strong>Number of Holes:</strong>
          <span id="confirm-num-holes"></span>
       </p>
       <p><strong>Total Yardage:</strong>
          <span id="confirm-total-distance"></span> yards
       </p>
       <p><strong>Total Par:</strong>
          <span id="confirm-total-par"></span>
       </p>
       <p><strong>Tee Name:</strong> {{ tee_name }}</p>
     </div>
     <!-- footer -->
     <div class="modal-footer">
       <button type="button" class="btn btn-secondary"
               data-bs-dismiss="modal">Go Back</button>
       <button type="button" class="btn btn-primary"
               id="confirm-holes-submit">Save Holes</button>
     </div>
   </div>
 </div>
</div>

</div>
{% endblock %}

{% block extra_js %}
  <script src="{{ url_for('static', filename='js/add_holes.js') }}"></script>
{% endblock %}
