{% extends "base.html" %}

{% block title %}Pricing - UnderParData{% endblock %}

{% block extra_css %}
  <!-- Page-specific CSS for the Pricing page -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
{% endblock %}

{% block content %}
<!-- Pricing Section (Full-Width) -->
<section class="pricing-section py-5">
  <div class="container-fluid">
    <h2 class="section-title text-center mb-5">Choose Your Plan</h2>
    <div class="row justify-content-center align-items-stretch">
      <!-- Basic Plan -->
      <div class="col-md-3 mb-4">
        <div class="pricing-card p-4 shadow-sm h-100 d-flex flex-column">
          <h3 class="mb-3">Basic</h3>
          <div class="price-section mb-4" style="min-height: 82px;">
            <span class="price" style="font-size: 48px; font-weight: bold;">Free</span>
          </div>
          <ul class="list-unstyled mb-4 flex-grow-1">
            <li><span style="color: green; margin-right: 5px;">✔</span>Add up to 3 rounds</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Access to Dashboard (3 rounds)</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Free Strokes Gained Calculator</li>
          </ul>
          <div class="mt-auto text-center">
            <a id="freeBtn" class="btn btn-cta">Sign Up Free</a>
          </div>
        </div>
      </div>

      <!-- Pro Monthly Plan -->
      <div class="col-md-3 mb-4">
        <div class="pricing-card p-4 shadow-sm h-100 d-flex flex-column">
          <h3 class="mb-3">Pro Monthly</h3>
          <div class="price-section mb-4" style="min-height: 82px;">
            <span class="price" style="font-size: 48px; font-weight: bold;">£8.99</span>
            <span class="duration" style="font-size: 18px; color: #aaa; margin-left: 5px;">/month</span>
          </div>
          <ul class="list-unstyled mb-4 flex-grow-1">
            <li><span style="color: green; margin-right: 5px;">✔</span>Unlimited rounds</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Easy Shot Entry Form</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Strokes Gained Insights</li>
          </ul>
          <div class="mt-auto text-center">
            <a id="monthlyBtn" class="btn btn-cta">Get Started</a>
          </div>
        </div>
      </div>

      <!-- Pro Release Plan -->
      <div class="col-md-3 mb-4">
        <div class="pricing-card p-4 shadow-sm h-100 d-flex flex-column">
          <h3 class="d-flex justify-content-between align-items-center mb-3">
            <span>Pro Half-Yearly</span>
            <span class="badge" style="background-color: #ffc107; color: #000; font-weight: 600; font-size: 0.85rem; padding: 0.25em 0.5em; border-radius: 6px;">
              Release Sale
            </span>
          </h3>
          <div class="price-section mb-4" style="min-height: 82px;">
            <div>
              <span class="price-original" style="text-decoration: line-through; color: #aaa; font-size: 24px;">
                £42.99
              </span>
            </div>
            <div>
              <span class="price" style="font-size: 48px; font-weight: bold;">
                £19.99*
              </span>
              <span class="duration" style="font-size: 18px; color: #aaa; margin-left: 5px;">
                / six months
              </span>
            </div>
          </div>
          <ul class="list-unstyled mb-4 flex-grow-1">
            <li><span style="color: green; margin-right: 5px;">✔</span>All Monthly Benefits</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Best Value</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Limited Time Offer</li>
          </ul>
          <div class="mt-auto text-center">
            <a id="releaseBtn" class="btn btn-cta">Get Started</a>
          </div>
          <p class="text-muted small mt-3" style="font-size: 0.85rem;">
            * No Special Conditions. Any users who sign up will have this price fixed forever!
          </p>
        </div>
      </div>

      <!-- Pro Yearly Plan -->
      <div class="col-md-3 mb-4">
        <div class="pricing-card p-4 shadow-sm h-100 d-flex flex-column">
          <h3 class="mb-3">Pro Yearly</h3>
          <div class="price-section mb-4" style="min-height: 82px;">
            <span class="price" style="font-size: 48px; font-weight: bold;">£69.99</span>
            <span class="duration" style="font-size: 18px; color: #aaa; margin-left: 5px;">/ year</span>
          </div>
          <ul class="list-unstyled mb-4 flex-grow-1">
            <li><span style="color: green; margin-right: 5px;">✔</span>Unlimited rounds</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Easy Shot Entry Form</li>
            <li><span style="color: green; margin-right: 5px;">✔</span>Strokes Gained Insights</li>
          </ul>
          <div class="mt-auto text-center">
            <a id="annualBtn" class="btn btn-cta">Get Started</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}

{% block extra_js %}
  <script>
    const isAuthenticated    = {{ 'true' if current_user.is_authenticated else 'false' }};
    const subscriptionActive = {{ 'true' if current_user.is_authenticated and current_user.subscription_active else 'false' }};
  </script>
  <script src="https://js.stripe.com/v3/"></script>
  <script src="{{ url_for('static', filename='main.js') }}"></script>
  
{% endblock %}
